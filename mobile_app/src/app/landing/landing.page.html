<ion-content>
  <p class="logout" (click)="logout()">LOGOUT</p>
<div class="container">
  <ion-card class="info">
    <ion-card-header class="avatar-upload-container">
      <div class="avatar-container" (click)="uploadAvatar()">
        <img [src]="avatarUrl ? avatarUrl : 'assets/default.jpg'" alt="Avatar">
        <input type="file" accept="image/*" #fileInput hidden (change)="onFileSelected($event)">
      </div>
      <div class="user-details">
        <div><strong>{{ user.lastname | uppercase }}, {{ user.firstname | uppercase }}</strong></div>
        <div>Grade: <strong>{{ user.grade_level }} {{ user.strand }}</strong></div>
        <div>LRN: <strong>{{ user.LRN }}</strong></div>
      </div>
    </ion-card-header>
    <ion-card-content>{{ user.email }}</ion-card-content>
  </ion-card>
</div>
<ion-row class="row-icon">
  <ion-col size="3">
    <ion-card class="action-card" [class.dimmed]="isEnrollDisabled" (click)="enroll()">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path fill="#2660A4" d="M19.7 12.9L14 18.6h-2.3v-2.3l5.7-5.7zm3.4-.8c0 .3-.3.6-.6.9L20 15.5l-.9-.9l2.6-2.6l-.6-.6l-.7.7l-2.3-2.3l2.2-2.1c.2-.2.6-.2.9 0l1.4 1.4c.2.2.2.6 0 .9c-.2.2-.4.4-.4.6c0 .2.2.4.4.6c.3.3.6.6.5.9M3 20V4h7v5h5v1.5l2-2V8l-6-6H3c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm8-2.9c-.2 0-.4.1-.5.1L10 15H8.5l-2.1 1.7L7 14H5.5l-1 5H6l2.9-2.6l.6 2.3h1l.5-.1z"/></svg>
      <ion-card-content>
        <p class="button-title">Enroll</p>
      </ion-card-content>
    </ion-card>
  </ion-col>
  <ion-col size="3">
    <ion-card class="action-card" (click)="request()">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path fill="#2660A4" d="M13.17 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h9v-6c0-1.1.9-2 2-2h3V8.83c0-.53-.21-1.04-.59-1.41l-4.83-4.83c-.37-.38-.88-.59-1.41-.59M13 8V3.5L18.5 9H14c-.55 0-1-.45-1-1m9.66 9c0 .55-.45 1-1 1h-1.24l2.24 2.24a.996.996 0 1 1-1.41 1.41L19 19.41v1.24c0 .55-.45 1-1 1s-1-.45-1-1V17c0-.55.45-1 1-1h3.66c.55 0 1 .45 1 1"/></svg>
      <ion-card-content>
        <p class="button-title">Request</p>
      </ion-card-content>
    </ion-card>
  </ion-col>
  <ion-col size="3">
    <ion-card class="action-card" (click)="notification()">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><g fill="none" stroke="#2660A4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M11.962 17.986h6.81a1.555 1.555 0 0 0 1.512-2.175c-.36-1.088-1.795-2.393-1.795-3.677c0-2.85 0-3.6-1.404-5.276a5.025 5.025 0 0 0-1.653-1.283l-.783-.38a1.089 1.089 0 0 1-.511-.73a2.023 2.023 0 0 0-2.176-1.707a2.023 2.023 0 0 0-2.12 1.707a1.089 1.089 0 0 1-.567.73l-.783.38A5.025 5.025 0 0 0 6.84 6.858c-1.403 1.676-1.403 2.426-1.403 5.276c0 1.284-1.37 2.458-1.73 3.611c-.217.697-.337 2.241 1.48 2.241z"/><path d="M15.225 17.986a3.198 3.198 0 0 1-3.263 3.263A3.195 3.195 0 0 1 8.7 17.986"/></g></svg>      
      <ion-card-content>
        <p class="button-title">Notification</p>
      </ion-card-content>
      <div class="dot" *ngIf="hasNewNotification"></div>
    </ion-card>
  </ion-col>
  <ion-col size="3">
    <ion-card class="action-card" (click)="grade()" [disabled]="!isStudent" [ngClass]="{'dim': !isStudent}">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 640 512"><path fill="#2660A4" d="M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9V320c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6c-3.2 4.3-4.1 9.9-2.3 15s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7.3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7c-3.2-14.2-7.5-28.7-13.5-42v-24.6c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5.8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1l280.6-101c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1c-7.6-2.7-15.6-4.1-23.7-4.1M128 408c0 35.3 86 72 192 72s192-36.7 192-72l-15.3-145.4L354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6l-142.2-51.4z"/></svg>      
      <ion-card-content>
        <p class="button-title">Grade</p>
      </ion-card-content>
    </ion-card>
  </ion-col>
</ion-row>
<ion-row class="trow-icon" >
  <ion-col size="3">
    <ion-card class="action-card"(click)="calendar()" [disabled]="!isStudent" [ngClass]="{'dim': !isStudent}">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 512 512"><path fill="#2660A4" d="M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4v-12a64 64 0 0 0-64-64m60 112H36a4 4 0 0 0-4 4v236a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V180a4 4 0 0 0-4-4M239.58 401.1c-12.17 9.61-28.75 14.9-46.7 14.9c-27.87 0-48.48-18.16-57.66-33.7a16 16 0 0 1 27.56-16.3c1.08 1.84 11.15 18 30.1 18c16.66 0 36.12-7.29 36.12-27.82c0-6.25-1.22-14.95-7-20.88c-8.54-8.74-22.75-12.67-30.11-12.67a16 16 0 0 1 0-32c4.85 0 17.41-2.6 25.28-10.65a22 22 0 0 0 6.57-16.08c0-23.23-28.63-23.9-31.89-23.9c-17.34 0-23.8 10.61-24.07 11.06a16 16 0 1 1-27.55-16.26c7.64-13 25.22-26.8 51.62-26.8c16.44 0 31.76 4.77 43.13 13.42c13.39 10.2 20.76 25.28 20.76 42.48A54 54 0 0 1 240 302.35c-1.15 1.18-2.36 2.28-3.59 3.35a66.18 66.18 0 0 1 8.42 7.23c10.56 10.8 16.14 25.75 16.14 43.25c.03 18.06-7.58 34.01-21.39 44.92M368 396a16 16 0 0 1-32 0V256.29l-22.51 16.59a16 16 0 1 1-19-25.76l43.42-32a16 16 0 0 1 9.49-3.12h4.6a16 16 0 0 1 16 16Z"/></svg>      
      <ion-card-content>
        <p class="button-title">Calendar</p>
      </ion-card-content>
    </ion-card>
  </ion-col>
  <ion-col size="3">
    <ion-card class="action-card" (click)="archive()" [disabled]="!isStudent" [ngClass]="{'dim': !isStudent}">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path fill="#2660A4" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h7c-.41-.25-.8-.56-1.14-.9c-.33-.33-.61-.7-.86-1.1H6V4h7v5h5v1.18c.71.16 1.39.43 2 .82V8zm6.31 16.9c1.33-2.11.69-4.9-1.4-6.22c-2.11-1.33-4.91-.68-6.22 1.4c-1.34 2.11-.69 4.89 1.4 6.22c1.46.93 3.32.93 4.79.02L22 23.39L23.39 22zm-3.81.1a2.5 2.5 0 0 1-2.5-2.5a2.5 2.5 0 0 1 2.5-2.5a2.5 2.5 0 0 1 2.5 2.5a2.5 2.5 0 0 1-2.5 2.5"/></svg>      
      <ion-card-content>
        <p class="button-title">Research</p>
      </ion-card-content>
    </ion-card>
  </ion-col>
  <ion-col size="3">
    <ion-card class="action-card" (click)="schedule()" [disabled]="!isStudent" [ngClass]="{'dim': !isStudent}">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path fill="#2660A4" d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2m3.5 12c-.3.5-.9.6-1.4.4l-2.6-1.5c-.3-.2-.5-.5-.5-.9V7c0-.6.4-1 1-1s1 .4 1 1v4.4l2.1 1.2c.5.3.6.9.4 1.4"/></svg>      
      <ion-card-content>
        <p class="button-title">Schedule</p>
      </ion-card-content>
    </ion-card>
  </ion-col>
</ion-row>
<h1 class="announce">Announcement</h1>
<ion-card *ngFor="let item of items">
  <ion-card-header class="head">
    <div class="header-content">
      <div><strong>{{ item.title }}</strong></div>
      <div class="post-date">{{ formatDate(item.post_date) }}</div>
    </div>
  </ion-card-header>
  <ion-card-content class="content">
    <div *ngIf="!item.minimized">{{ item.message }}</div>
    <button ion-button (click)="toggleMinimized(item)" style="font-size: 11px; font-style: italic; font-weight: 500; color: #2660A4; background-color: transparent; border: none; outline: none;">
      {{ item.minimized ? 'Expand' : 'Show Less' }}
    </button>
  </ion-card-content>
</ion-card>

</ion-content>
